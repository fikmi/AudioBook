{% extends "base.html" %}

{% block content %}
<div class="row g-4" id="app">
  <div class="col-12 col-lg-4">
    <div class="card shadow-sm h-100">
      <div class="card-body">
        <h2 class="h5 mb-3">Importer un document</h2>
        <form id="upload-form" class="mb-3" novalidate>
          <div class="mb-3">
            <label for="file" class="form-label">Fichier (PDF, EPUB, DOCX, TXT)</label>
            <input class="form-control" type="file" id="file" name="file" accept=".pdf,.epub,.docx,.txt" required>
            <div class="form-text">Taille maximale : 50 Mo.</div>
          </div>
          <button class="btn btn-primary w-100" type="submit">Extraire le texte</button>
        </form>
        <div id="messages" class="mb-3" aria-live="polite"></div>
        <div id="meta" class="small text-body-secondary"></div>
        <hr>
        <h2 class="h5 mb-3">Paramètres de lecture</h2>
        <div class="mb-3">
          <label for="voice" class="form-label">Voix</label>
          <select id="voice" class="form-select" aria-label="Sélection de la voix"></select>
          <div class="form-text">Les voix disponibles dépendent du navigateur.</div>
        </div>
        <div class="mb-3">
          <label for="rate" class="form-label">Vitesse (<span id="rate-value">1.0</span>×)</label>
          <input type="range" class="form-range" id="rate" min="0.5" max="2.5" step="0.1" value="1">
        </div>
        <div class="mb-3">
          <label for="pitch" class="form-label">Pitch (<span id="pitch-value">1.0</span>)</label>
          <input type="range" class="form-range" id="pitch" min="0.5" max="2.0" step="0.1" value="1">
        </div>
        <div class="mb-3">
          <label for="volume" class="form-label">Volume (<span id="volume-value">1.0</span>)</label>
          <input type="range" class="form-range" id="volume" min="0" max="1" step="0.1" value="1">
        </div>
        <div class="d-flex flex-wrap gap-2">
          <button type="button" class="btn btn-success flex-fill" id="play">Lecture</button>
          <button type="button" class="btn btn-warning flex-fill" id="pause">Pause</button>
          <button type="button" class="btn btn-info flex-fill" id="resume">Reprendre</button>
          <button type="button" class="btn btn-danger flex-fill" id="stop">Arrêter</button>
        </div>
      </div>
    </div>
  </div>
  <div class="col-12 col-lg-8">
    <div class="card shadow-sm h-100">
      <div class="card-body">
        <h2 class="h5 mb-3">Texte extrait</h2>
        <div id="reader" class="reader" tabindex="0" aria-label="Zone de lecture"></div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
